<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">

    <title>Zend Framework 2 - The A/B testing framework for PHP.</title>

    <meta name="description" content="phpab is a A/B testing framework which can be used to perform multivariate testing.">
    <meta name="keywords" content="ab testing,phpab,multivariate,framework,tests,test">
    <meta name="application-name" content="phpab">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <link href="http://phpab.github.io/vendor/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="http://phpab.github.io/vendor/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
    <link href="http://phpab.github.io/css/website.css" rel="stylesheet" type="text/css">

    <script type="text/javascript" src="http://phpab.github.io/vendor/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="http://phpab.github.io/vendor/bootstrap/dist/js/bootstrap.min.js"></script>

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-76115045-1', 'auto');
        ga('send', 'pageview');
    </script>
    <script src="//www.google-analytics.com/cx/api.js"></script>
    <script>ga('set', 'VCq5cVWGS3mbuUyCXmUN2w', 0);</script>
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://phpab.github.io/">phpab</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://phpab.github.io/docs/getting-started.html">Getting started</a></li>
                <li><a href="http://phpab.github.io/docs/index.html">Documentation</a></li>
            </ul>
        </div>
    </div>
</nav>

    
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2">
                                    <strong>Introduction</strong>

                    <ul class="nav nav-pills nav-stacked" style="margin-bottom: 20px;">
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/getting-started.html">
                                    Getting started
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/library-layout.html">
                                    Library layout
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/understanding-ab-testing.html">
                                    Understanding A/B testing
                                </a>
                            </li>
                                            </ul>
                                    <strong>Components</strong>

                    <ul class="nav nav-pills nav-stacked" style="margin-bottom: 20px;">
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/components/analytics.html">
                                    Analytics
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/components/events.html">
                                    Events
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/components/participation.html">
                                    Participation
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/components/storage.html">
                                    Storage
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/components/variants.html">
                                    Variants
                                </a>
                            </li>
                                            </ul>
                                    <strong>Frameworks Integrations</strong>

                    <ul class="nav nav-pills nav-stacked" style="margin-bottom: 20px;">
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/frameworks/symfony2.html">
                                    Symfony 2
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/frameworks/wordpress.html">
                                    Wordpress
                                </a>
                            </li>
                                                    <li role="presentation" class="">
                                <a href="http://phpab.github.io/docs/frameworks/zf2.html">
                                    Zend Framework 2
                                </a>
                            </li>
                                            </ul>
                            </div>
            <div class="col-md-10">
                <article>
                    <div class="pull-right">
                        <a href="https://github.com/phpab/phpab.github.io/blob/source/source/docs/frameworks/zf2.md"
                           class="btn btn-default btn-sm">
                            Edit this page on GitHub
                        </a>
                    </div>

                    <h1 id="zend-framework-2">Zend Framework 2</h1>
<p>We have implemented a module which you can hook into your Zend Framework 2 application.
This module basically wraps the <a href="https://github.com/phpab/phpab">phpab/phpab</a> library
and adds some additional functionality which makes it possible to fully integrate the
library into your application while keeping support for all ZF2 functionality.</p>
<h2 id="installation">Installation</h2>
<p>Simply install the module using <a href="https://getcomposer.org">Composer</a>:</p>
<pre><code class="language-bash">composer require phpab/phpab-module</code></pre>
<p>Next make sure the module is actually loaded by adding <code>PhpAbModule</code> to application
config in <em>config/application.config.php</em>.</p>
<p>Installation without <a href="https://getcomposer.org">Composer</a> is not officially supported.</p>
<h2 id="configuration">Configuration</h2>
<p>Copy over the dist configuration file that is provided in the module.</p>
<pre><code class="language-bash">cp vendor/phpab/phpab-module/config/phpab.global.php.dist config/autoload/phpab.global.php</code></pre>
<p>You can edit this file to your needs.</p>
<h2 id="configuration-options">Configuration Options</h2>
<h3 id="phpabanalytics_collector">['phpab']['analytics_collector']</h3>
<p>The name of the service that loads the data collector. A data collector collects
information about which tests and variants are started for a user.</p>
<p>The default value is <code>phpab.default_analytics_collector</code>. You can either change
this value or change the service that gets loaded in the service manager.</p>
<h3 id="phpabanalytics_handler">['phpab']['analytics_handler']</h3>
<p>The name of the service that loads the analytics handler. A handler uses the
collected data and writes it away.</p>
<p>The default value is <code>phpab.default_analytics_handler</code>. You can either change
this value or change the service that gets loaded in the service manager.</p>
<h3 id="phpabdefault_filter">['phpab']['default_filter']</h3>
<p>When creating tests, you pass a filter which decides if a user should participate.
When no filter is passed to tests, the default filter is used. That default filter
can be configured with this configuration option.</p>
<p>This is the name of the service that loads the default filter. The default value is
<code>phpab.default_filter</code>. You can either change this value or change the service that
gets loaded in the service manager.</p>
<h3 id="phpabdefault_variant_chooser">['phpab']['default_variant_chooser']</h3>
<p>Like with the <code>['phpab']['default_filter']</code> option, the same applies for default
variant chooser.</p>
<p>This is the name of the service that loads the default filter. The default value is
<code>phpab.default_filter</code>. You can either change this value or change the service that
gets loaded in the service manager.</p>
<h3 id="phpabstorage">['phpab']['storage']</h3>
<p>The storage type to use. Supported values are:</p>
<ul>
<li><code>cookie</code>: Stores the participations in a cookie;</li>
<li><code>runtime</code>: Stores the participations only for the current request;</li>
<li><code>session</code>: Stores the participations in a session.</li>
</ul>
<h3 id="phpabstorage_options">['phpab']['storage_options']</h3>
<p>An array with options for the storage type. Different options are required per
storage type:</p>
<h4 id="cookie">Cookie</h4>
<ul>
<li><code>name</code>: The name of the cookie. This value is required.</li>
<li><code>ttl</code>: The lifetime of the cookie in seconds. This value is required.</li>
</ul>
<h4 id="runtime">Runtime</h4>
<p>This storage has no options.</p>
<h4 id="session">Session</h4>
<ul>
<li><code>name</code>: The name of the session. This value is required.</li>
</ul>
<h3 id="phpabtests">['phpab']['tests']</h3>
<p>This is a map with tests that exist within the application. The key of each element
represents the name of the test. The value should be an array with options. A test
has the following options:</p>
<ul>
<li><code>filter</code>: The name of the service that loads the participation filter.</li>
<li><code>variant_chooser</code>: The name of the service that loads the variant chooser.</li>
<li><code>variants</code>: A map with variants that can be chosen from.</li>
</ul>
<p>The <code>filter</code> and <code>variant_chooser</code> work the same as the default filter and default
variant chooser.</p>
<p>The map with variants is an array where each key represents the name of the variant.
The value of the variant is an array with variant options. Each variant can have
one of the following options:</p>
<ul>
<li><code>type</code>: The type of the variant.</li>
<li><code>options</code>: An array with options for the variant type.</li>
</ul>
<h2 id="variants">Variants</h2>
<p>The module supports the following variant types:</p>
<h3 id="callback">Callback</h3>
<p>The callback variant will invoke a callback when activated. It has one required option
called <code>callback</code>:</p>
<pre><code class="language-php">'my-variant' =&gt; [
    'type' =&gt; 'callback',
    'options' =&gt; [
        'callback' =&gt; function() {
        },
    ],
],</code></pre>
<h3 id="event-manager">Event Manager</h3>
<p>The event manager variant will attach a listener to an event manager when executed.
Since the phpab engine is started at the startup of the application, you can listen
to every event.</p>
<pre><code class="language-php">'my-variant' =&gt; [
    'type' =&gt; 'event_manager',
    'options' =&gt; [
        'event_manager' =&gt; 'my_event_manager',
        'event' =&gt; 'my_event',
        'priority' =&gt; 100,
        'callback' =&gt; function() {
        },
    ],
],</code></pre>
<p>Only the <code>event</code> and the <code>callback</code> options are required. When no <code>event_manager</code>
option is provided, the event manager from the application is used. The default value
for the priority option is <code>0</code>.</p>
<p>When the callback is a string and is not a callable function, it will be loaded
from the service manager. In other words, you can specify a valid service name as
well.</p>
<h3 id="simple">Simple</h3>
<p>The simple variant will note execute any further logic when activated.</p>
<pre><code class="language-php">'my-variant' =&gt; [
    'type' =&gt; 'simple',
],</code></pre>
<h3 id="service-manager">Service Manager</h3>
<p>The service manager variant is a fallback variant. When the type is not known, it will
try to load the variant from the service manager with the type as the service name.</p>
<pre><code class="language-php">'my-variant' =&gt; [
    'type' =&gt; 'my_service_name',
],</code></pre>
<p>Alternatively you can specify the service name straight away like this:</p>
<pre><code class="language-php">'my-variant' =&gt; 'my_service_name',</code></pre>
<h2 id="configuration-example">Configuration Example</h2>
<pre><code class="language-php">&lt;?php
return [
    'phpab' =&gt; [
        'storage' =&gt; 'cookie',
        'storage_options' =&gt; [
            'name' =&gt; 'phpab',
            'ttl' =&gt; 3600,
        ],
        'tests' =&gt; [
            'button-test' =&gt; [
                'filter' =&gt; 'phpab.default_filter',
                'variant_chooser' =&gt; 'phpab.default_variant_chooser',
                'variants' =&gt; [
                    '_control' =&gt; [
                        'type' =&gt; 'simple',
                    ],
                    'alternative' =&gt; [
                        'type' =&gt; 'simple'
                    ],
                ],
            ],
        ],
    ],
];
</code></pre>
                </article>
            </div>
        </div>
    </div>


</body>
</html>
